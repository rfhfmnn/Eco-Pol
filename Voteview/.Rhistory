### Instalar y cargar paquetes
install.packages('wnominate','devtools')
### Instalar y cargar paquetes
install.packages('wnominate','devtools')
rm(list=ls())
getwd()
directorio <- "/Users/stefa/Documents/Code/Eco-Pol/Voteview/"
setwd(directorio)
getwd()
# Paquetes #
install.packages('wnominate','devtools')
library(ggplot2)
library(devtools)
devtools::install_github("voteview/Rvoteview")
library(Rvoteview)
library(pscl)
library(wnominate)
# Puntos ideales #
{
res_preV <- voteview_search("codes.Clausen:Foreign and Defense Policy support:[15 to 85]",startdate = "1955-01-20", enddate = "1964-01-20")
res_postV <- voteview_search("codes.Clausen:Foreign and Defense Policy support:[15 to 85]",startdate = "1965-01-20", enddate = "1975-01-20")
res_durV <- voteview_search("codes.Clausen:Foreign and Defense Policy support:[15 to 85]",startdate = "1976-01-20", enddate = "1985-01-20")
rc_preV <- voteview_download(res_preV$id)
rc_postV <- voteview_download(res_postV$id)
rc_durV <- voteview_download(res_durV$id)
}
print("tranqui", "tarda", "un", "poco,", "prepará", "el", "mate", sep = " ")
print("tranqui", "tarda", "un", "poco,", "prepara", "el", "mate", sep = " ")
print("tranqui", "tarda", "un", "poco,", "prepara", "el", "mate", sep = " ")
print("tranqui", "tarda", "un", "poco,", "prepara", "el", "mate")
print("tranqui tarda un poco, prepara el mate")
# Puntos ideales #
{
res_preV <- voteview_search("codes.Clausen:Foreign and Defense Policy support:[15 to 85]",startdate = "1955-01-20", enddate = "1964-01-20")
res_postV <- voteview_search("codes.Clausen:Foreign and Defense Policy support:[15 to 85]",startdate = "1965-01-20", enddate = "1975-01-20")
res_durV <- voteview_search("codes.Clausen:Foreign and Defense Policy support:[15 to 85]",startdate = "1976-01-20", enddate = "1985-01-20")
rc_preV <- voteview_download(res_preV$id)
rc_postV <- voteview_download(res_postV$id)
rc_durV <- voteview_download(res_durV$id)
print("tranqui tarda un poco, prepara el mate")
}
rm(list=ls())
getwd()
directorio <- "/Users/stefa/Documents/Code/Eco-Pol/Voteview/"
setwd(directorio)
getwd()
# Puntos ideales #
{
print("tranqui tarda un poco, prepara el mate")
res_preV <- voteview_search("codes.Clausen:Foreign and Defense Policy support:[15 to 85]",startdate = "1955-01-20", enddate = "1964-01-20")
res_postV <- voteview_search("codes.Clausen:Foreign and Defense Policy support:[15 to 85]",startdate = "1965-01-20", enddate = "1975-01-20")
res_durV <- voteview_search("codes.Clausen:Foreign and Defense Policy support:[15 to 85]",startdate = "1976-01-20", enddate = "1985-01-20")
rc_preV <- voteview_download(res_preV$id)
rc_postV <- voteview_download(res_postV$id)
rc_durV <- voteview_download(res_durV$id)
}
# Buscar los "legisladores extremos" para la variable Polaridad #
{
cons1_preV <- rc_preV$legis.long.dynamic[which.max(rc_preV$legis.data$dim1), c("name", "icpsr")]
cons2_preV <- rc_preV$legis.long.dynamic[which.max(rc_preV$legis.data$dim2), c("name", "icpsr")]
defIdeal_preV <- wnominate(rc_preV,
polarity = list("icpsr", c(cons1_preV$icpsr, cons2_preV$icpsr)))
cons1_durV <- rc_durV$legis.long.dynamic[which.max(rc_durV$legis.data$dim1), c("name", "icpsr")]
cons2_durV <- rc_durV$legis.long.dynamic[which.max(rc_durV$legis.data$dim2), c("name", "icpsr")]
defIdeal_durV <- wnominate(rc_durV,
polarity = list("icpsr", c(cons1_durV$icpsr, cons2_durV$icpsr)))
cons1_postV <- rc_postV$legis.long.dynamic[which.max(rc_postV$legis.data$dim1), c("name", "icpsr")]
cons2_postV <- rc_postV$legis.long.dynamic[which.max(rc_postV$legis.data$dim2), c("name", "icpsr")]
defIdeal_postV <- wnominate(rc_postV,
polarity = list("icpsr", c(cons1_postV$icpsr, cons2_postV$icpsr)))
}
cons1_preV
cons2_preV
cons1_durV
cons2_durV
cons1_postV
cons2_postV
# Crear las etiquetas de nombres de partidos y graficar #
dir.create("Graphs")
{
defIdeal_preV$legislators$partyName <- ifelse(defIdeal_preV$legislators$party == 200, "Republican",ifelse(defIdeal_preV$legislators$party == 100, "Democrat", "Independent"))
graph_preV <- ggplot(defIdeal_preV$legislators,aes(x=coord1D, y=coord2D, color=partyName, label=state_abbrev)) +  geom_text() + scale_color_manual("Party", values = c("Republican" = "red","Democrat" = "blue","Independent" = "darkgreen")) + theme_bw() + labs(x = "Economics", y = "Social", title = "Previo a la Guerra de Vietnam")
ggsave(filename = "Graphs/pre_V.jpg", plot = graph_preV, width = 6, height = 4)
defIdeal_durV$legislators$partyName <- ifelse(defIdeal_durV$legislators$party == 200, "Republican",ifelse(defIdeal_durV$legislators$party == 100, "Democrat", "Independent"))
graph_durV <- ggplot(defIdeal_durV$legislators,aes(x=coord1D, y=coord2D, color=partyName, label=state_abbrev)) +  geom_text() + scale_color_manual("Party", values = c("Republican" = "red","Democrat" = "blue","Independent" = "darkgreen")) + theme_bw() + labs(x = "Economics", y = "Social", title = "Durante la Guerra de Vietnam")
ggsave(filename = "Graphs/dur_V.jpg", plot = graph_durV, width = 6, height = 4)
defIdeal_postV$legislators$partyName <- ifelse(defIdeal_postV$legislators$party == 200, "Republican",ifelse(defIdeal_postV$legislators$party == 100, "Democrat", "Independent"))
graph_postV <- ggplot(defIdeal_postV$legislators,aes(x=coord1D, y=coord2D, color=partyName, label=state_abbrev)) +  geom_text() + scale_color_manual("Party", values = c("Republican" = "red","Democrat" = "blue","Independent" = "darkgreen")) + theme_bw() + labs(x = "Economics", y = "Social", title = "Luego de la Guerra de Vietnam")
ggsave(filename = "Graphs/post_V.jpg", plot = graph_postV, width = 6, height = 4)
}
# Puntos ideales #
{
print("tranqui tarda un poco, prepara el mate")
res_preA <- voteview_search("codes.Clausen:Foreign and Defense Policy support:[15 to 85]",startdate = "1995-01-20", enddate = "2000-01-20")
res_postA <- voteview_search("codes.Clausen:Foreign and Defense Policy support:[15 to 85]",startdate = "2001-01-20", enddate = "2005-01-20")
rc_preA <- voteview_download(res_preA$id)
rc_postA <- voteview_download(res_postA$id)
}
# Buscar los "legisladores extremos" para la variable Polaridad #
{
cons1_preA <- rc_preA$legis.long.dynamic[which.max(rc_preA$legis.data$dim1), c("name", "icpsr")]
cons2_preA <- rc_preA$legis.long.dynamic[which.max(rc_preA$legis.data$dim2), c("name", "icpsr")]
defIdeal_preA <- wnominate(rc_preA,
polarity = list("icpsr", c(cons1_preA$icpsr, cons2_preA$icpsr)))
cons1_postA <- rc_postA$legis.long.dynamic[which.max(rc_postA$legis.data$dim1), c("name", "icpsr")]
cons2_postA <- rc_postA$legis.long.dynamic[which.max(rc_postA$legis.data$dim2), c("name", "icpsr")]
defIdeal_postA <- wnominate(rc_postA,
polarity = list("icpsr", c(cons1_postA$icpsr, cons2_postA$icpsr)))
}
cons1_preA
cons2_preA
cons1_postA
cons2_postA
# Crear las etiquetas de nombres de partidos y graficar #
dir.create("Graphs")
{
defIdeal_preA$legislators$partyName <- ifelse(defIdeal_preA$legislators$party == 200, "Republican",ifelse(defIdeal_preA$legislators$party == 100, "Democrat", "Independent"))
graph_preA <- ggplot(defIdeal_preA$legislators,aes(x=coord1D, y=coord2D, color=partyName, label=state_abbrev)) +  geom_text() + scale_color_manual("Party", values = c("Republican" = "red","Democrat" = "blue","Independent" = "darkgreen")) + theme_bw() + labs(x = "Economics", y = "Social", title = "Previo a la invasión de Afganistan")
ggsave(filename = "Graphs/pre_A.jpg", plot = graph_preA, width = 6, height = 4)
defIdeal_postA$legislators$partyName <- ifelse(defIdeal_postA$legislators$party == 200, "Republican",ifelse(defIdeal_postA$legislators$party == 100, "Democrat", "Independent"))
graph_postA <- ggplot(defIdeal_postA$legislators,aes(x=coord1D, y=coord2D, color=partyName, label=state_abbrev)) +  geom_text() + scale_color_manual("Party", values = c("Republican" = "red","Democrat" = "blue","Independent" = "darkgreen")) + theme_bw() + labs(x = "Economics", y = "Social", title = "Luego de la invasión de Afganistan")
ggsave(filename = "Graphs/post_A.jpg", plot = graph_postA, width = 6, height = 4)
}
